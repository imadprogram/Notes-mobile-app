<!DOCTYPE html>
<html class="dark" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no" name="viewport" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>My Notes</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#FFD600">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Main App Container -->
    <div id="app" class="app-container">

        <!-- Home View -->
        <div id="home-view" class="view active">
            <!-- Status Bar Space -->
            <div class="status-bar"></div>

            <!-- Header -->
            <header class="header">
                <h1 class="header-title">My Notes</h1>
            </header>

            <!-- Search Bar -->
            <div class="search-container">
                <label class="search-bar">
                    <span class="material-symbols-outlined search-icon">search</span>
                    <input type="text" id="search-input" placeholder="Search your notes..." />
                </label>
            </div>

            <!-- Notes Grid -->
            <div id="notes-grid" class="notes-grid">
                <!-- Notes will be dynamically inserted here -->
            </div>

            <!-- Floating Action Button -->
            <button id="add-note-btn" class="fab">
                <span class="material-symbols-outlined">add</span>
            </button>

            <!-- Bottom Navigation -->
            <nav class="bottom-nav">
                <a href="#" class="nav-item active" data-tab="notes">
                    <span class="material-symbols-outlined filled">description</span>
                    <span class="nav-label">Notes</span>
                </a>
                <a href="#" class="nav-item" data-tab="folders">
                    <span class="material-symbols-outlined">folder</span>
                    <span class="nav-label">Folders</span>
                </a>
                <a href="#" class="nav-item" data-tab="favorites">
                    <span class="material-symbols-outlined">star</span>
                    <span class="nav-label">Favorites</span>
                </a>
                <a href="#" class="nav-item" data-tab="settings">
                    <span class="material-symbols-outlined">settings</span>
                    <span class="nav-label">Settings</span>
                </a>
            </nav>
        </div>

        <!-- Editor View -->
        <div id="editor-view" class="view editor-view">
            <!-- Editor Header -->
            <header class="editor-header">
                <button id="back-btn" class="icon-btn">
                    <span class="material-symbols-outlined">arrow_back_ios_new</span>
                </button>
                <div class="editor-actions">
                    <button id="share-btn" class="icon-btn">
                        <span class="material-symbols-outlined">share</span>
                    </button>
                    <button id="more-btn" class="icon-btn">
                        <span class="material-symbols-outlined">more_horiz</span>
                    </button>
                </div>
            </header>

            <!-- Editor Content -->
            <main class="editor-content">
                <input type="text" id="note-title" class="note-title-input" placeholder="Note Title..." />
                <div id="note-body" class="note-body" contenteditable="true" data-placeholder="Start writing..."></div>

                <!-- Checklist Container -->
                <div id="checklist-container" class="checklist-container hidden">
                    <div id="checklist-items" class="checklist-items"></div>
                    <div class="add-item-row" id="add-item-row">
                        <span class="material-symbols-outlined">add</span>
                        <span class="add-item-text">Add item...</span>
                    </div>
                </div>
            </main>

            <!-- Bottom Toolbar -->
            <div class="editor-toolbar">
                <div class="toolbar-container">
                    <div class="format-buttons">
                        <button class="toolbar-btn" id="bold-btn">
                            <span class="material-symbols-outlined">format_bold</span>
                        </button>
                        <button class="toolbar-btn" id="italic-btn">
                            <span class="material-symbols-outlined">format_italic</span>
                        </button>
                        <button class="toolbar-btn" id="image-btn">
                            <span class="material-symbols-outlined">image</span>
                        </button>
                        <button class="toolbar-btn" id="checklist-btn">
                            <span class="material-symbols-outlined">checklist</span>
                        </button>
                        <button class="toolbar-btn" id="list-btn">
                            <span class="material-symbols-outlined">format_list_bulleted</span>
                        </button>
                    </div>
                    <div class="toolbar-divider"></div>
                    <button class="toolbar-btn color-btn" id="color-btn">
                        <span class="material-symbols-outlined">palette</span>
                    </button>
                </div>
            </div>

            <!-- Color Picker Panel -->
            <div id="color-picker" class="color-picker hidden">
                <div class="color-picker-header">
                    <span>Choose Color</span>
                    <button id="close-color-picker" class="icon-btn small">
                        <span class="material-symbols-outlined">close</span>
                    </button>
                </div>
                <div class="color-options">
                    <button class="color-option" data-color="blue"
                        style="background: linear-gradient(135deg, #3b82f6, #1d4ed8)"></button>
                    <button class="color-option" data-color="green"
                        style="background: linear-gradient(135deg, #22c55e, #16a34a)"></button>
                    <button class="color-option" data-color="purple"
                        style="background: linear-gradient(135deg, #a855f7, #7c3aed)"></button>
                    <button class="color-option" data-color="orange"
                        style="background: linear-gradient(135deg, #f97316, #ea580c)"></button>
                    <button class="color-option" data-color="pink"
                        style="background: linear-gradient(135deg, #ec4899, #db2777)"></button>
                    <button class="color-option" data-color="teal"
                        style="background: linear-gradient(135deg, #14b8a6, #0d9488)"></button>
                    <button class="color-option" data-color="yellow"
                        style="background: linear-gradient(135deg, #eab308, #ca8a04)"></button>
                    <button class="color-option" data-color="red"
                        style="background: linear-gradient(135deg, #ef4444, #dc2626)"></button>
                </div>
            </div>

            <!-- More Options Menu -->
            <div id="more-menu" class="more-menu hidden">
                <button class="menu-item" id="favorite-toggle">
                    <span class="material-symbols-outlined">star</span>
                    <span>Add to Favorites</span>
                </button>
                <button class="menu-item" id="delete-note-btn">
                    <span class="material-symbols-outlined">delete</span>
                    <span>Delete Note</span>
                </button>
            </div>

            <!-- Editor Gradient Overlay -->
            <div class="editor-gradient"></div>
        </div>

        <!-- Overlay for note expansion animation -->
        <div id="note-overlay" class="note-overlay"></div>
    </div>

    <script src="app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(reg => console.log('Service Worker registered'))
                    .catch(err => console.log('Service Worker registration failed', err));
            });
        }
    </script>
</body>

</html>